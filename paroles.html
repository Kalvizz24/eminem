<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paroles Synchronisées</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lora:wght@400;700&display=swap">
    <style>
        body {
            font-family: 'Lora', serif;
            margin: 0;
            padding: 0;
            background: #f4f4f4;
            color: #333;
            text-align: center;
        }
        header {
            background: #333;
            color: #fff;
            padding: 10px;
            text-align: center;
        }
        nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        nav ul li {
            display: inline;
            margin: 0 10px;
        }
        nav ul li a {
            color: #fff;
            text-decoration: none;
            transition: color 0.3s ease;
        }
        nav ul li a:hover {
            color: #ffcc00;
        }
        #lyrics {
            padding: 20px;
            background: #fff;
            border: 1px solid #ddd;
            margin: 20px auto;
            width: 80%;
            max-width: 800px;
            height: 400px;
            position: relative;
            overflow: hidden;
        }
        .lyrics {
            font-size: 1.5em;
            line-height: 1.5em;
            white-space: pre-wrap;
            position: absolute;
            width: 100%;
            top: 0;
            left: 0;
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        .visible {
            opacity: 1;
        }
        footer {
            text-align: center;
            padding: 10px;
            background: #333;
            color: #fff;
        }
        @media (max-width: 768px) {
            header {
                padding: 15px;
            }
            nav ul li {
                display: block;
                margin: 10px 0;
            }
            #lyrics {
                width: 95%;
                height: 300px;
            }
        }
    </style>
</head>
<body>
    <audio id="background-music" src="jtmclara.mp3" autoplay loop></audio>
    <header>
        <h1>Paroles Synchronisées</h1>
        <nav>
            <ul>
                <li><a href="index.html">Accueil</a></li>
                <li><a href="paroles.html">Paroles</a></li>
            </ul>
        </nav>
    </header>

    <section id="lyrics">
        <div class="lyrics" id="lyrics-container">
            <!-- Les paroles défileront ici -->
        </div>
    </section>

    <footer>
        <p>&copy; 2024 Mon Site Web</p>
    </footer>

    <script>
        // Les paroles découpées en sections
        const lyrics = [
            { time: 0, text: "Look, if you had one shot or one opportunity\nTo seize everything you ever wanted in one moment\nWould you capture it, or just let it slip? Yo" },
            { time: 13, text: "His palms are sweaty, knees weak, arms are heavy\nThere's vomit on his sweater already, mom's spaghetti\nHe's nervous, but on the surface he looks calm and ready\nTo drop bombs, but he keeps on forgetting" },
            { time: 26, text: "What he wrote down, the whole crowd goes so loud\nHe opens his mouth, but the words won't come out\nHe's choking, how? Everybody's joking now\nThe clock's run out, time's up, over—blaow!" },
            { time: 39, text: "Snap back to reality, ope there goes gravity, ope\nThere goes Rabbit, he choked, he's so mad but he won't\nGive up that easy, no, he won't have it, he knows\nHis whole back's to these ropes, it don't matter, he's dope" },
            { time: 52, text: "He knows that but he's broke, he's so stagnant, he knows\nWhen he goes back to this mobile home, that's when it's\nBack to the lab again yo, this whole rhapsody\nBetter go capture this moment and hope it don't pass him, and" },
            { time: 65, text: "You better lose yourself in the music\nThe moment, you own it, you better never let it go (Go!)\nYou only get one shot, do not miss your chance to blow\nThis opportunity comes once in a lifetime, yo" },
            { time: 78, text: "You better lose yourself in the music\nThe moment, you own it, you better never let it go (Go!)\nYou only get one shot, do not miss your chance to blow\nThis opportunity comes once in a lifetime, yo\nYou better…" },
            { time: 91, text: "His soul's escaping through this hole that is gaping\nThis world is mine for the taking, make me king\nAs we move toward a New World Order\nA normal life is boring; but superstardom's" },
            { time: 104, text: "Close to post-mortem, it only grows harder\nHomie grows hotter, he blows, it's all over\nThese hoes is all on him, coast-to-coast shows\nHe's known as the Globetrotter, lonely roads" },
            { time: 117, text: "God only knows, he's grown farther from home, he's no father\nHe goes home and barely knows his own daughter\nBut hold your nose, 'cause here goes the cold water\nThese hoes don't want him no mo', he's cold product" },
            { time: 130, text: "They moved on to the next schmoe who flows\nHe nose-dove and sold nada, and so the soap opera\nIs told, it unfolds, I suppose it's old, partner\nBut the beat goes on: da-da-dom, da-dom, dah-dah, dah-dah" },
            { time: 143, text: "You better lose yourself in the music\nThe moment, you own it, you better never let it go (Go!)\nYou only get one shot, do not miss your chance to blow\nThis opportunity comes once in a lifetime, yo" },
            { time: 156, text: "You better lose yourself in the music\nThe moment, you own it, you better never let it go (Go!)\nYou only get one shot, do not miss your chance to blow\nThis opportunity comes once in a lifetime, yo\nYou better…" },
            { time: 169, text: "No more games, I'ma change what you call rage\nTear this motherfuckin' roof off like two dogs caged\nI was playin' in the beginning, the mood all changed\nI've been chewed up and spit out and booed off stage" },
            { time: 182, text: "But I kept rhymin' and stepped right in the next cypher\nBest believe somebody's payin' the Pied Piper\nAll the pain inside amplified by the\nFact that I can't get by with my nine-to-" },
            { time: 195, text: "Five and I can't provide the right type of life for my family\n'Cause man, these goddamn food stamps don't buy diapers\nAnd there's no movie, there's no Mekhi Phifer, this is my life\nAnd these times are so hard, and it's gettin' even harder" },
            { time: 208, text: "Tryna feed and water my seed, plus teeter-totter\nCaught up between bein' a father and a prima donna\nBaby mama drama, screamin' on her, too much for me to wanna\nStay in one spot, another day of monotony's" },
            { time: 221, text: "Gotten me to the point I'm like a snail, I've got\nTo formulate a plot or end up in jail or shot\nSuccess is my only motherfuckin' option—failure's not\nMom, I love you, but this trailer's got" },
            { time: 234, text: "To go; I cannot grow old in Salem's Lot\nSo here I go, it's my shot: feet, fail me not\nThis may be the only opportunity that I got" }
        ];

        const lyricsContainer = document.getElementById('lyrics-container');
        const audio = document.getElementById('background-music');

        // Crée les éléments de paroles une seule fois
        lyrics.forEach(line => {
            const lyricDiv = document.createElement('div');
            lyricDiv.className = 'lyrics';
            lyricDiv.textContent = line.text;
            lyricsContainer.appendChild(lyricDiv);
        });

        function updateLyrics() {
            const currentTime = audio.currentTime;
            const lyricDivs = document.querySelectorAll('.lyrics');

            lyricDivs.forEach((div, index) => {
                if (currentTime >= lyrics[index].time && (index === lyrics.length - 1 || currentTime < lyrics[index + 1].time)) {
                    div.classList.add('visible');
                } else {
                    div.classList.remove('visible');
                }
            });
        }

        audio.addEventListener('timeupdate', updateLyrics);
    </script>
</body>
</html>
